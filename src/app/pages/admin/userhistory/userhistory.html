<app-admin-navbar></app-admin-navbar>

<div class="page-container">
    <div class="user-list-card">
        <h1>All Users</h1>

        <div *ngIf="isLoading" class="loading-spinner">Loading users...</div>

        <div *ngIf="!isLoading" class="user-table-container">
            <table class="user-table">
                <thead>
                    <tr>
                        <th>Avatar</th>
                        <th>Full Name</th>
                        <th>Email</th>
                        <th>Role</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let user of users">
                        <td>
                            <img [src]="user.imageUser || 'https://placehold.co/40x40/e0e0e0/ffffff?text=U'"
                                alt="Avatar" class="user-avatar">
                        </td>
                        <td>{{ user.full_name }}</td>
                        <td>{{ user.email }}</td>
                        <td><span class="role-badge role-{{user.role}}">{{ user.role }}</span></td>
                        <td>
                            <button class="btn btn-view-history" (click)="viewUserHistory(user.uid)">
                                View History
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div *ngIf="users.length === 0" class="empty-state">No users found.</div>
        </div>
    </div>
</div>